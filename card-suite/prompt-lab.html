<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AiX Card Suite · Prompt 实验室</title>
    <link rel="icon" type="image/svg+xml" href="/icon-192.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/card-suite/common.css?v=20260222-3" />
  </head>
  <body>
    <div class="app-shell">
      <header class="topbar">
        <div class="branding">
          <span class="brand-badge">🧪</span>
          <div>
            <h1>Prompt 实验室 Prompt Lab</h1>
            <p>精选 AI 提示词库 + 在线测试运行器</p>
          </div>
        </div>
        <nav class="nav-links">
          <a href="/card-suite/index.html">套件首页</a>
          <a href="/card-suite/copy-studio.html">文案工场</a>
          <a href="/">主控台</a>
        </nav>
      </header>

      <main class="main-grid grid-2">
        <!-- LEFT: Prompt Library -->
        <section class="card stack">
          <h3>提示词库</h3>
          <div class="actions" style="flex-wrap:wrap;gap:6px;margin-bottom:8px;">
            <button class="btn active" data-cat="all">全部</button>
            <button class="btn" data-cat="copy">文案</button>
            <button class="btn" data-cat="strategy">策略</button>
            <button class="btn" data-cat="analysis">分析</button>
            <button class="btn" data-cat="creative">创作</button>
            <button class="btn" data-cat="custom">自定义</button>
          </div>
          <div id="promptLibrary"></div>

          <!-- Add Custom Prompt -->
          <h3 class="section-sub-title" style="margin-top:12px;">＋ 添加自定义提示词</h3>
          <label>名称
            <input id="customPromptTitle" placeholder="例：品牌故事生成器" />
          </label>
          <label>分类
            <select id="customPromptCat">
              <option value="custom">自定义</option>
              <option value="copy">文案</option>
              <option value="strategy">策略</option>
              <option value="analysis">分析</option>
              <option value="creative">创作</option>
            </select>
          </label>
          <label>提示词内容
            <textarea id="customPromptText" rows="4" placeholder="输入提示词…"></textarea>
          </label>
          <div class="actions">
            <button class="btn btn-primary" id="savePromptBtn">💾 保存到库</button>
          </div>
        </section>

        <!-- RIGHT: Test Runner -->
        <section class="card stack">
          <h3>测试运行器</h3>
          <label>提示词
            <textarea id="testPromptText" rows="8" placeholder="从左侧点击「使用」，或直接在此编辑提示词…"></textarea>
          </label>
          <label>追加上下文（可选）
            <textarea id="testContext" rows="3" placeholder="例：我的产品是一款 AI 写作助手，面向自媒体创作者"></textarea>
          </label>
          <div class="actions">
            <button class="btn btn-primary" id="runPromptBtn">▶ 运行</button>
            <button class="btn" id="clearTestBtn">清空</button>
            <button class="btn" id="copyResultBtn">复制结果</button>
          </div>
          <div id="runStatus" style="font-size:0.82rem;color:var(--accent);min-height:18px;margin-top:2px;"></div>
          <label>AI 输出
            <div id="testOutput" class="ai-streaming-box" style="min-height:160px;"></div>
          </label>
        </section>
      </main>

      <footer class="footer">
        <nav class="footer-nav">
          <a href="/">主站工作台</a>
          <a href="/md-lab">排版工坊</a>
          <a href="/card-suite/">文案卡片套件</a>
        </nav>
        <p class="footer-copy">
          <svg class="footer-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3a9 9 0 0 0-3 17.5v-3c-3 .6-3.7-1.4-3.7-1.4-.5-1.1-1.1-1.4-1.1-1.4-.9-.6.1-.6.1-.6 1 .1 1.6 1 1.6 1 .9 1.5 2.3 1.1 2.8.8.1-.7.4-1.1.7-1.4-2.4-.3-4.8-1.2-4.8-5.1 0-1.1.4-2 1-2.7 0-.3-.4-1.3.1-2.6 0 0 .8-.3 2.8 1a9.5 9.5 0 0 1 5 0c2-1.3 2.8-1 2.8-1 .5 1.3.1 2.3.1 2.6.6.7 1 1.6 1 2.7 0 3.9-2.4 4.8-4.8 5.1.4.4.7 1 .7 2.1v3A9 9 0 0 0 12 3Z"/></svg>
          <a href="https://github.com/upgiorgio/AiX" target="_blank" rel="noopener noreferrer">upgiorgio/AiX</a>
          <span class="footer-dot">·</span>
          <span>© 2026 X Articles Studio &nbsp;·&nbsp; Crafted by Giorgio</span>
        </p>
      </footer>
    </div>

    <script src="/card-suite/common.js?v=20260222-1" defer></script>
    <script src="/card-suite/ai-gateway.js?v=20260222-1" defer></script>
    <script src="/card-suite/prompt-lab.js?v=20260222-1" defer></script>
  </body>
</html>
