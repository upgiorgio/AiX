# AiX Card Suite Â· é¡¹ç›®å…¨å±€ç´¢å¼•

> **ç‰ˆæœ¬**ï¼šBeta 1.0 Â· å¹³å°ä»¿çœŸå‘å¸–çª—å£ç³»ç»Ÿ
> **æ›´æ–°**ï¼š2026-02-23
> **ä»“åº“**ï¼šhttps://github.com/upgiorgio/AiX
> **çº¿ä¸Š**ï¼šhttps://x.banana.school
> **æœ¬æ–‡ç”¨é€”**ï¼šå¼€å‘å‚è€ƒã€ç§»åŠ¨ç«¯æ‰©å±•ï¼ˆiOS / Android / å°ç¨‹åºï¼‰å¿«é€Ÿæ¥å…¥

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è§ˆ](#1-é¡¹ç›®æ¦‚è§ˆ)
2. [ç›®å½•ç»“æ„å…¨å›¾](#2-ç›®å½•ç»“æ„å…¨å›¾)
3. [åŠŸèƒ½æ¨¡å—ç´¢å¼•](#3-åŠŸèƒ½æ¨¡å—ç´¢å¼•)
4. [AI åç«¯æ¥å£åˆçº¦](#4-ai-åç«¯æ¥å£åˆçº¦)
5. [å‰ç«¯ AI Gateway æ¥å£](#5-å‰ç«¯-ai-gateway-æ¥å£)
6. [æ•°æ®å±‚ï¼šlocalStorage Schema](#6-æ•°æ®å±‚localstorage-schema)
7. [è®¾è®¡ç³»ç»Ÿ Design System](#7-è®¾è®¡ç³»ç»Ÿ-design-system)
8. [18 å¥—å¡ç‰‡æ¨¡æ¿ç´¢å¼•](#8-18-å¥—å¡ç‰‡æ¨¡æ¿ç´¢å¼•)
9. [å¹³å°ä»¿çœŸç³»ç»Ÿï¼ˆBeta 1.0 æ–°å¢ï¼‰](#9-å¹³å°ä»¿çœŸç³»ç»Ÿbeta-10-æ–°å¢)
10. [éƒ¨ç½²ä¸ç¯å¢ƒé…ç½®](#10-éƒ¨ç½²ä¸ç¯å¢ƒé…ç½®)
11. [ç§»åŠ¨ç«¯æ‰©å±•è·¯çº¿å›¾](#11-ç§»åŠ¨ç«¯æ‰©å±•è·¯çº¿å›¾)
12. [å¿«é€Ÿå¼€å‘é€ŸæŸ¥è¡¨](#12-å¿«é€Ÿå¼€å‘é€ŸæŸ¥è¡¨)

---

## 1. é¡¹ç›®æ¦‚è§ˆ

### 1.1 äº§å“å®šä½

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| **äº§å“å** | AiX Card Suite / X Articles Studio |
| **æ ¸å¿ƒä»·å€¼** | AI è¾…åŠ©å¤šå¹³å°å†…å®¹åˆ›ä½œ â†’ è§†è§‰å¡ç‰‡ â†’ å¤šå¹³å°å‘å¸ƒ ä¸€ä½“åŒ–å·¥ä½œæµ |
| **ç›®æ ‡ç”¨æˆ·** | è‡ªåª’ä½“åˆ›ä½œè€…ã€ä¸ªäºº IPã€ä¼ä¸šå†…å®¹å›¢é˜Ÿ |
| **æŠ€æœ¯æ ˆ** | çº¯å‰ç«¯é™æ€ HTML/CSS/Vanilla JS + Cloudflare Workers AI åç«¯ |
| **å½“å‰é˜¶æ®µ** | Beta 1.0ï¼ˆWeb PWAï¼Œå¯å®‰è£…åˆ°æ¡Œé¢/æ‰‹æœºä¸»å±ï¼‰ |

### 1.2 ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               å‰ç«¯é™æ€ç«™ (x.banana.school)                â”‚
â”‚  ä¸»å·¥ä½œå°  â”‚  MDæ’ç‰ˆå·¥åŠ  â”‚  æ–‡æ¡ˆå¡ç‰‡å¥—ä»¶(7ä¸ªå·¥å…·é¡µ)        â”‚
â”‚  Vercel æ‰˜ç®¡ Â· GitHub è‡ªåŠ¨éƒ¨ç½² Â· PWA æ”¯æŒ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          AI åç«¯ (Cloudflare Workers)                    â”‚
â”‚  aix-ai-api.musd-app.workers.dev                        â”‚
â”‚  /ai/generate  /ai/stream  /url/extract                  â”‚
â”‚  æ¨¡å‹: Llama 3.3 70B Â· Llama 3.1 8B (fastæ¨¡å¼)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              å¯é€‰ï¼šç”¨æˆ·è‡ªå¸¦ OpenAI Key                     â”‚
â”‚  GPT-4o / GPT-4o-mini / GPT-4-turbo (ç›´è¿)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç›®å½•ç»“æ„å…¨å›¾

```
/Users/mac/Documents/New project/           â† é¡¹ç›®æ ¹ç›®å½•
â”‚
â”œâ”€â”€ ğŸ“„ index.html                           â† ä¸»å·¥ä½œå°ï¼ˆé¦–é¡µï¼‰
â”œâ”€â”€ ğŸ“„ styles.css                           â† ä¸»ç«™æ ·å¼
â”œâ”€â”€ ğŸ“„ app.js                               â† ä¸»ç«™é€»è¾‘ï¼ˆå†…å®¹ç”Ÿæˆ/Thread/åˆ†å‘/è¯„åˆ†ï¼‰
â”œâ”€â”€ ğŸ“„ manifest.webmanifest                 â† PWA é…ç½®
â”œâ”€â”€ ğŸ“„ sw.js                                â† Service Workerï¼ˆç¦»çº¿ç¼“å­˜ï¼‰
â”œâ”€â”€ ğŸ“„ vercel.json                          â† Vercel è·¯ç”± & ç¼“å­˜é…ç½®
â”œâ”€â”€ ğŸ–¼ icon-192.svg / icon-512.svg          â† åº”ç”¨å›¾æ ‡
â”œâ”€â”€ ğŸ–¼ preview-desktop.png / preview-mobile.png  â† é¢„è§ˆæˆªå›¾
â”‚
â”œâ”€â”€ ğŸ“ card-suite/                          â† æ–‡æ¡ˆå¡ç‰‡å¥—ä»¶å­ç«™
â”‚   â”œâ”€â”€ ğŸ“„ index.html                       â† å¥—ä»¶å¯¼èˆªé¦–é¡µï¼ˆ12å¹³å°å…¥å£ï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ copy-studio.html/.js             â† æ–‡æ¡ˆå·¥åœºï¼ˆAIå†™ç¨¿ + å¹³å°ä»¿çœŸé¢„è§ˆï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ card-designer.html/.js           â† å¡ç‰‡è®¾è®¡å¼•æ“ï¼ˆ18æ¨¡æ¿ + PNGå¯¼å‡ºï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ publish-hub.html/.js             â† å¤šå¹³å°å‘å¸ƒä¸­å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“„ strategy.html/.js                â† å†…å®¹ç­–ç•¥é¢æ¿
â”‚   â”œâ”€â”€ ğŸ“„ content-calendar.html/.js        â† å†…å®¹æ—¥å†
â”‚   â”œâ”€â”€ ğŸ“„ prompt-lab.html/.js              â† AI æç¤ºè¯å®éªŒå®¤
â”‚   â”œâ”€â”€ ğŸ“„ video-script.html/.js            â† è§†é¢‘è„šæœ¬ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ ğŸ“„ common.css                       â† å¥—ä»¶å…¨å±€æ ·å¼ï¼ˆ2564è¡Œ Â· å«18æ¨¡æ¿+6å¹³å°ä»¿çœŸï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ common.js                        â† å¥—ä»¶å…¨å±€å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ ai-gateway.js                    â† AI ç»Ÿä¸€æ¥å…¥å±‚ï¼ˆæ‰€æœ‰é¡µé¢å…±äº«ï¼‰
â”‚   â””â”€â”€ ğŸ“„ REPORT_NOTES.md                  â† å†…éƒ¨ç¬”è®°
â”‚
â”œâ”€â”€ ğŸ“ md-lab/                              â† Markdown æ’ç‰ˆå·¥åŠ
â”‚   â”œâ”€â”€ ğŸ“„ index.html
â”‚   â”œâ”€â”€ ğŸ“„ app.js
â”‚   â””â”€â”€ ğŸ“„ styles.css
â”‚
â”œâ”€â”€ ğŸ“ ai-worker/                           â† Cloudflare Workers AI åç«¯
â”‚   â”œâ”€â”€ ğŸ“„ src/index.js                     â† Worker ä¸»é€»è¾‘
â”‚   â””â”€â”€ ğŸ“„ wrangler.toml                    â† Worker é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ api/                                 â† Vercel Serverless Functions
â”‚   â””â”€â”€ ğŸ“„ hot-topics.js                    â† çƒ­ç‚¹è¯é¢˜èšåˆ API
â”‚
â”œâ”€â”€ ğŸ“ docs/                                â† è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ design-redesign.md
â”‚   â”œâ”€â”€ ğŸ“„ copy-review.md
â”‚   â””â”€â”€ ğŸ“„ qa-report.md
â”‚
â”œâ”€â”€ ğŸ“„ PROJECT_INDEX.md                     â† æœ¬æ–‡ä»¶ï¼ˆå…¨å±€ç´¢å¼•ï¼‰
â””â”€â”€ ğŸ“„ docs/MOBILE_EXPANSION.md             â† ç§»åŠ¨ç«¯æ‰©å±•æŒ‡å—
```

---

## 3. åŠŸèƒ½æ¨¡å—ç´¢å¼•

### 3.1 ä¸»å·¥ä½œå° `/`

| æ¨¡å— ID | åŠŸèƒ½å | è¾“å…¥ | è¾“å‡º | å­˜å‚¨ Key |
|---------|--------|------|------|---------|
| `content-gen` | å†…å®¹ç”Ÿæˆ | ä¸»é¢˜/è§‚ç‚¹/å¹³å° | æ ‡é¢˜+æ–‡ç« +Thread+åˆ†å‘è®¡åˆ’ | `x-articles-studio-draft` |
| `thread-split` | Thread æ‹†åˆ† | é•¿æ–‡è‰ç¨¿ | 5-12æ¡Thread | åŒä¸Š |
| `timeline` | 72h åˆ†å‘è®¡åˆ’ | å¹³å°é€‰æ‹© | æ—¶é—´è½´ä»»åŠ¡æ¸…å• | åŒä¸Š |
| `monetize` | è®¢é˜…å˜ç°å¼•å¯¼ | â€” | å¼•å¯¼æ–‡æ¡ˆæ¨¡æ¿ | åŒä¸Š |
| `score` | è´¨é‡è¯„åˆ† | è‰ç¨¿æ–‡æœ¬ | 7ç»´åº¦è¯„åˆ†(0-100) | åŒä¸Š |
| `checklist` | å‘å¸ƒè‡ªæ£€ v2 | â€” | å‘å¸ƒå‰3åˆ†é’Ÿæ¸…å• | â€” |
| `multiplatform` | å¤šå¹³å°é€‚é… | è‰ç¨¿ + ç›®æ ‡å¹³å° | å„å¹³å°æ”¹å†™ç‰ˆ | åŒä¸Š |
| `platform-rules` | å¹³å°è§„åˆ™é€ŸæŸ¥ | å¹³å°+åˆ†ç±»ç­›é€‰ | è§„åˆ™/æŠ€å·§/å®¡æ ¸è¯ | â€” |
| `hot-topics` | çƒ­ç‚¹è¯é¢˜é›·è¾¾ | æ—¶é—´èŒƒå›´/å¹³å° | Top10 çƒ­ç‚¹åˆ—è¡¨ | â€” |
| `competitive` | ç«å“å®¡è®¡ | â€” | 5å¤§å·¥å…·å¯¹æ¯”é¢æ¿ | â€” |
| `draft-mgmt` | è‰ç¨¿ç®¡ç† | â€” | å†å²ç‰ˆæœ¬/å¯¼å‡ºMD | `x-articles-studio-draft` |

### 3.2 æ–‡æ¡ˆå·¥åœº `/card-suite/copy-studio.html`

| åŠŸèƒ½ | è¯´æ˜ | ç›¸å…³å‡½æ•° |
|------|------|---------|
| åœºæ™¯æ¨¡æ¿ | xhs / x-thread / wechat / quote / ad | `scenarioGuides{}` |
| å¹³å°é€‰é¡¹å¡ | X / å°çº¢ä¹¦ / å…¬ä¼—å· / çŸ¥ä¹ / Bç«™ / LinkedIn | `updatePlatformMock()` |
| å¹³å°ä»¿çœŸçª—å£ | 6å¥—å®˜æ–¹UIé£æ ¼å®æ—¶é¢„è§ˆ | `platformMockConfigs{}` |
| AI ç”Ÿæˆè‰ç¨¿ | æµå¼è¾“å‡ºï¼Œæ”¯æŒ3ä¸ªç‰ˆæœ¬(A/B/C) | `generateWithAI()` |
| AI è¿­ä»£ä¼˜åŒ– | ç²¾ç®€/å£è¯­åŒ–/å¼ºé’©å­/ä¼˜åŒ–CTA | `refineDraft()` |
| URL å¯¼å…¥ | è‡ªåŠ¨æå–é“¾æ¥æ–‡ç« æ ¸å¿ƒè§‚ç‚¹ | `importFromUrl()` |
| å­—æ•°è®¡æ•° | å„å¹³å°å®æ—¶å­—æ•°é™åˆ¶æé†’ | `updateCharCount()` |
| å‘é€åˆ°å¡ç‰‡è®¾è®¡ | è·¨é¡µé¢ localStorage ä¼ é€’ | `sendToDesigner()` |

### 3.3 å¡ç‰‡è®¾è®¡å¼•æ“ `/card-suite/card-designer.html`

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| 18å¥—æ¨¡æ¿ | è¯¦è§ç¬¬8èŠ‚ |
| 4ç§å¹³å°å°ºå¯¸ | å°çº¢ä¹¦3:4 / X 16:9 / å…¬ä¼—å·å°é¢ / æ–¹å›¾1:1 |
| é•¿æ–‡æ‹†åˆ† | è‡ªåŠ¨æŒ‰å­—æ•°æ‹†åˆ†ä¸ºå¤šå¼ å¡ç‰‡ |
| PNG å¯¼å‡º | html2canvas æ¸²æŸ“å¯¼å‡º |
| å­—ä½“è®¾ç½® | Sora(è‹±) + Noto Sans SC(ä¸­) |

### 3.4 å…¶ä»–å·¥å…·é¡µ

| å·¥å…· | è·¯å¾„ | æ ¸å¿ƒåŠŸèƒ½ |
|------|------|---------|
| å‘å¸ƒä¸­å¿ƒ | `/card-suite/publish-hub.html` | å¤šå¹³å°æ–‡æ¡ˆæ‰¹é‡ç”Ÿæˆ + AIå¹³å°é€‚é…åˆ†æ + 72hæ‰§è¡Œæ¸…å• |
| ç­–ç•¥é¢æ¿ | `/card-suite/strategy.html` | å†…å®¹ç­–ç•¥è§„åˆ’ä¸åˆ†æ |
| å†…å®¹æ—¥å† | `/card-suite/content-calendar.html` | å‘å¸ƒè®¡åˆ’æ—¥å†è§†å›¾ |
| æç¤ºè¯å®éªŒå®¤ | `/card-suite/prompt-lab.html` | AIæç¤ºè¯æµ‹è¯•ä¸ç®¡ç† |
| è§†é¢‘è„šæœ¬ | `/card-suite/video-script.html` | çŸ­è§†é¢‘/Bç«™è„šæœ¬ç”Ÿæˆ |
| MDæ’ç‰ˆå·¥åŠ | `/md-lab/` | é•¿æ–‡Markdownæ’ç‰ˆ â†’ å…¬ä¼—å·/çŸ¥ä¹/åšå®¢ |

---

## 4. AI åç«¯æ¥å£åˆçº¦

**Worker URL**: `https://aix-ai-api.musd-app.workers.dev`
**Account**: Cloudflare ä¸»è´¦å· (07728da33c7e188b00a80f1462376afc)
**éƒ¨ç½²é…ç½®**: `ai-worker/wrangler.toml`

### 4.1 `POST /ai/generate` â€” å•æ¬¡ç”Ÿæˆ

```json
// è¯·æ±‚
{
  "prompt": "ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹è‡ªå·±",
  "system": "ä½ æ˜¯ä¸“ä¸šçš„ä¸­æ–‡å†…å®¹åˆ›ä½œè€…",  // å¯é€‰
  "fast": false                            // true=ç”¨8Bå¿«é€Ÿæ¨¡å‹
}

// å“åº” 200
{ "content": "æˆ‘æ˜¯..." }

// é”™è¯¯
{ "error": "prompt required" }
```

### 4.2 `POST /ai/stream` â€” æµå¼ç”Ÿæˆ (SSE)

```json
// è¯·æ±‚ï¼ˆåŒä¸Šï¼‰
{ "prompt": "...", "system": "...", "fast": false }

// å“åº”: text/event-stream
data: {"response": "æˆ‘"}
data: {"response": "æ˜¯"}
data: [DONE]
```

### 4.3 `POST /url/extract` â€” URL å†…å®¹æå–

```json
// è¯·æ±‚
{ "url": "https://example.com/article" }

// å“åº” 200
{
  "title": "æ–‡ç« æ ‡é¢˜ï¼ˆ10å­—å†…ï¼‰",
  "points": ["æ ¸å¿ƒè¦ç‚¹1", "æ ¸å¿ƒè¦ç‚¹2", "æ ¸å¿ƒè¦ç‚¹3"],
  "quote": "æœ€å€¼å¾—æ‘˜å½•çš„é‡‘å¥ï¼ˆ20å­—å†…ï¼‰",
  "summary": "ä¸€å¥è¯æ‘˜è¦ï¼ˆ30å­—å†…ï¼‰"
}
```

### 4.4 æ¨¡å‹é…ç½®

| æ¨¡å¼ | æ¨¡å‹ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| é»˜è®¤ | `@cf/meta/llama-3.3-70b-instruct-fp8-fast` | é«˜è´¨é‡å†…å®¹ç”Ÿæˆ |
| å¿«é€Ÿ(`fast:true`) | `@cf/meta/llama-3.1-8b-instruct` | å¿«é€Ÿå“åº”ã€æµ‹è¯•è¿æ¥ |

### 4.5 çƒ­ç‚¹ API (Vercel Serverless)

**è·¯å¾„**: `GET /api/hot-topics`
**Query å‚æ•°**:

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `platform` | `x` \| `wechat` \| `xhs` | å¹³å° |
| `range` | `48h` \| `7d` | æ—¶é—´èŒƒå›´ |
| `limit` | `1-20` | è¿”å›æ¡æ•°ï¼Œé»˜è®¤10 |

```json
// å“åº”
{
  "topics": [
    { "rank": 1, "title": "çƒ­ç‚¹æ ‡é¢˜", "url": "...", "ts": 1700000000000 }
  ],
  "fetchedAt": 1700000000000
}
```

---

## 5. å‰ç«¯ AI Gateway æ¥å£

**æ–‡ä»¶**: `card-suite/ai-gateway.js`
**å…¨å±€æŒ‚è½½**: `window.AiGateway`
**æ‰€æœ‰å·¥å…·é¡µé¢å‡å¼•å…¥æ­¤æ–‡ä»¶**ï¼Œé€šè¿‡ç»Ÿä¸€æ¥å£è°ƒç”¨ AIã€‚

### 5.1 API æ–¹æ³•

```javascript
// å•æ¬¡ç”Ÿæˆï¼ˆè¿”å› Promise<string>ï¼‰
const text = await window.AiGateway.generate(prompt, {
  system: "ä½ æ˜¯...",  // å¯é€‰
  fast: false         // å¯é€‰ï¼Œtrue=å¿«é€Ÿæ¨¡å‹
});

// æµå¼ç”Ÿæˆ
await window.AiGateway.stream(prompt, {
  system: "ä½ æ˜¯...",
  onChunk(chunk) { /* æ¯æ¬¡æ”¶åˆ°æ–‡æœ¬ç‰‡æ®µ */ },
  onDone()       { /* ç”Ÿæˆå®Œæˆ */ },
  onError(msg)   { /* å‡ºé”™ */ },
  fast: false
});

// URL å†…å®¹æå–ï¼ˆè¿”å› Promise<{title, points, quote, summary}>ï¼‰
const data = await window.AiGateway.extractUrl("https://...");

// æµå¼å†™å…¥å·¥å…·å‡½æ•°ï¼ˆè‡ªåŠ¨å¤„ç†å…‰æ ‡ â–‹ï¼‰
const handler = window.AiGateway.streamIntoEl(textareaEl);
await window.AiGateway.stream(prompt, handler);

// è®¾ç½®ç›¸å…³
window.AiGateway.openSettings();   // æ‰“å¼€ AI è®¾ç½® Modal
window.AiGateway.hasKey();         // æ˜¯å¦é…ç½®äº† OpenAI Key
window.AiGateway.getSettings();    // è¿”å›å½“å‰è®¾ç½®å¯¹è±¡
```

### 5.2 AI è®¾ç½®å­˜å‚¨ç»“æ„

```javascript
// localStorage key: "aix-ai-settings-v1"
{
  provider: "cf" | "openai",   // é»˜è®¤ "cf"ï¼ˆå…è´¹Cloudflareå±‚ï¼‰
  openaiKey: "sk-...",          // ä»… provider=openai æ—¶æœ‰æ•ˆ
  model: "gpt-4o-mini"          // gpt-4o-mini | gpt-4o | gpt-4-turbo
}
```

---

## 6. æ•°æ®å±‚ï¼šlocalStorage Schema

> ç§»åŠ¨ç«¯å¼€å‘æ—¶ï¼Œå¯å°†è¿™äº› key å¯¹åº”åˆ°æœ¬åœ°æ•°æ®åº“ï¼ˆSQLite/Core Data/MMKVï¼‰

| Key | æ¨¡å— | æ•°æ®ç»“æ„ | è¯´æ˜ |
|-----|------|---------|------|
| `x-articles-studio-draft` | ä¸»å·¥ä½œå° | `{ state:{topic,article,...}, articleOutput, threadItems[], ... }` | ä¸»è‰ç¨¿ï¼ˆå«æ‰€æœ‰ç”Ÿæˆå†…å®¹ï¼‰ |
| `aix-md-lab-state-v1` | MDæ’ç‰ˆå·¥åŠ | `{ markdown, platform, ... }` | æ’ç‰ˆå·¥åŠè‰ç¨¿ |
| `aix-card-suite-copy-v1` | æ–‡æ¡ˆå·¥åœº | `{ scenario, platform, tone, length, topic, audience, thesis, cta, draftOutput, promptOutput }` | æ–‡æ¡ˆå·¥åœºçŠ¶æ€ |
| `aix-copy-versions-v1` | æ–‡æ¡ˆå·¥åœº | `{ versions:{0:"",1:"",2:""}, current:0 }` | A/B/C ä¸‰ç‰ˆæœ¬è‰ç¨¿ |
| `aix-card-suite-designer-input` | å¡ç‰‡è®¾è®¡å™¨ | `{ text, topic, platform, updatedAt }` | ä»æ–‡æ¡ˆå·¥åœºè·¨é¡µä¼ é€’çš„å†…å®¹ |
| `aix-ai-settings-v1` | å…¨å±€ AI è®¾ç½® | `{ provider, openaiKey, model }` | AI æœåŠ¡é…ç½® |

### 6.1 ä¸»è‰ç¨¿å®Œæ•´ç»“æ„

```javascript
// key: "x-articles-studio-draft"
{
  state: {
    topic:    "å†…å®¹ä¸»é¢˜",
    point:    "æ ¸å¿ƒè§‚ç‚¹",
    platform: "x" | "wechat" | "zhihu" | "xiaohongshu" | "bilibili",
    tone:     "ä¸“ä¸š" | "è½»æ¾" | "æ•…äº‹æ„Ÿ",
    length:   "çŸ­" | "ä¸­" | "é•¿",
    article:  "ç”Ÿæˆçš„æ–‡ç« æ­£æ–‡...",
    title:    "ç”Ÿæˆçš„æ ‡é¢˜",
    hook:     "å¼€å¤´é’©å­",
  },
  articleOutput: "å®Œæ•´æ–‡ç« æ–‡æœ¬",
  threadItems: ["Thread 1", "Thread 2", ...],
  timelineItems: [{ time:"D0 19:00", action:"å‘å¸ƒXä¸»æ–‡" }, ...],
  qualityScore: { total:82, hooks:90, structure:80, ... },
  updatedAt: 1700000000000
}
```

---

## 7. è®¾è®¡ç³»ç»Ÿ Design System

> æ–‡ä»¶ï¼š`card-suite/common.css` (2564è¡Œ)

### 7.1 å…¨å±€ CSS å˜é‡

```css
:root {
  /* èƒŒæ™¯å±‚çº§ */
  --bg-base:         #060b14;           /* æœ€åº•å±‚èƒŒæ™¯ */
  --bg-layer:        #101c2f;           /* å¡ç‰‡èƒŒæ™¯å±‚ */
  --surface:         rgba(11,26,43,.84);/* åŠé€æ˜è¡¨é¢ */
  --surface-strong:  rgba(8,19,33,.94); /* æ·±è‰²è¡¨é¢ */

  /* çº¿æ¡ä¸è¾¹æ¡† */
  --line:            rgba(152,199,231,.28);
  --line-strong:     rgba(167,214,245,.46);

  /* æ–‡å­— */
  --text:   #eaf4ff;     /* ä¸»æ–‡å­— */
  --muted:  #9fbfda;     /* æ¬¡è¦æ–‡å­— */

  /* å“ç‰Œè‰² */
  --brand:        #53c0ff;  /* ä¸»å“ç‰Œè“ */
  --brand-strong: #2ea7e9;

  /* åŠŸèƒ½è‰² */
  --warm:   #ffb46a;   /* æš–æ©™ï¼ˆè­¦å‘Š/æç¤ºï¼‰ */
  --ok:     #6bd5a4;   /* æˆåŠŸç»¿ */
  --danger: #ff8d8d;   /* é”™è¯¯çº¢ */

  /* é˜´å½± */
  --shadow-sm: 0 12px 28px rgba(2,10,19,.28);
  --shadow-lg: 0 24px 64px rgba(2,10,19,.42);
}
```

### 7.2 å¹³å°å“ç‰Œè‰²å˜é‡

```css
:root {
  --x-blue: #1d9bf0;          /* X/Twitter è“ */
  --xhs-red: #ff2442;         /* å°çº¢ä¹¦çº¢ */
  --wechat-green: #07c160;    /* å¾®ä¿¡ç»¿ */
  --zhihu-blue: #0084ff;      /* çŸ¥ä¹è“ */
  --bili-pink: #fb7299;       /* Bç«™ç²‰ */
  --li-blue: #0a66c2;         /* LinkedInæ·±è“ */
}
```

### 7.3 æ ¸å¿ƒç»„ä»¶ç±»å

| ç±»å | è¯´æ˜ |
|------|------|
| `.app-shell` | ä¸»å®¹å™¨ï¼Œmax-width:1320pxï¼Œgridå¸ƒå±€ |
| `.topbar` | é¡¶éƒ¨å¯¼èˆªæ ï¼Œå«å“ç‰Œ+å¯¼èˆªé“¾æ¥ |
| `.main-grid.grid-2` | åŒæ ä¸»å†…å®¹åŒº |
| `.card` | åŸºç¡€å¡ç‰‡å®¹å™¨ |
| `.card.stack` | ç«–å‘å †å å†…å®¹å¡ç‰‡ |
| `.btn` | åŸºç¡€æŒ‰é’® |
| `.btn.btn-primary` | ä¸»è¦æ“ä½œæŒ‰é’®ï¼ˆè“è‰²ï¼‰ |
| `.btn.btn-warm` | æ¬¡è¦æ“ä½œæŒ‰é’®ï¼ˆæ©™è‰²ï¼‰ |
| `.form-grid` | è¡¨å•ç½‘æ ¼å¸ƒå±€ |
| `.output-box` | è¾“å‡ºåŒºåŸŸï¼ˆæ·±è‰²ä»£ç æ¡†é£æ ¼ï¼‰ |
| `.ai-panel` | AI åŠŸèƒ½åŒºå— |
| `.ai-label-badge` | "AI" æ ‡ç­¾å¾½ç«  |
| `.ai-thinking` | AI æ€è€ƒä¸­åŠ¨ç”»æ–‡å­— |
| `.platform-card` | é¦–é¡µå¹³å°å¡ç‰‡ |

### 7.4 å­—ä½“

| å­—ä½“ | ç”¨é€” | CDN |
|------|------|-----|
| Sora | è‹±æ–‡/æ•°å­—ä¸»å­—ä½“ | Google Fonts |
| Noto Sans SC | ä¸­æ–‡å­—ä½“ | Google Fonts |
| å¤‡é€‰ | PingFang SC / Microsoft YaHei / sans-serif | ç³»ç»Ÿå­—ä½“ |

---

## 8. 18 å¥—å¡ç‰‡æ¨¡æ¿ç´¢å¼•

> CSS class: `.template-{id}` Â· æ–‡ä»¶ï¼š`common.css`

| ID | åç§° | é£æ ¼ | ä¸»è‰²è°ƒ | é€‚ç”¨å†…å®¹ |
|----|------|------|--------|---------|
| `a` | **Aurora æå…‰è“** | å†·è‰² | æ·±è“â†’å†°è“æ¸å˜ | ç§‘æŠ€/AI/æ•°æ® |
| `b` | **Void æ·±ç©º** | å†·è‰² | å®‡å®™é»‘+æ˜Ÿç‚¹ | æ·±åº¦æ€è€ƒ/å“²å­¦ |
| `c` | **Sage è‹ç¿ ** | è‡ªç„¶ | æ·±ç»¿æ¸å˜ | ç”Ÿæ´»/æˆé•¿/å¥åº· |
| `d` | **Ember ç¥ç€æ©™** | æš–è‰² | æ·±æ©™æ¸å˜ | æ¿€åŠ±/å•†ä¸š/èƒ½é‡ |
| `e` | **Blossom æ¨±èŠ±** | æš–è‰² | ç«çº¢æ¸å˜ | æƒ…æ„Ÿ/æ–‡è‰º/å¥³æ€§ |
| `f` | **Nebula æ˜Ÿäº‘ç´«** | è‡ªç„¶ | ç´«è‰²å¾„å‘æ˜Ÿäº‘ | åˆ›æ„/æƒ³è±¡/ç§‘å¹» |
| `g` | **Paper ç¨¿çº¸** | æµ…è‰² | æµ…ç°ç™½æ¨ªæ ¼çº¹ | çŸ¥è¯†/ç¬”è®°/å¹²è´§ |
| `h` | **Abyss æ·±æ¸Š** | å†·è‰² | è¿‘é»‘æ·±è“ | å¤œé—´/ç¥ç§˜/é«˜ç«¯ |
| `i` | **Dusk æš®è‰²** | æš–è‰² | æš—ç´«æ©™æ¸å˜ | æƒ…ç»ª/è‰ºæœ¯/æ™šéœ |
| `j` | **Cyber èµ›åš** | ä¸“ä¸š | çº¯é»‘+éœ“è™¹ç»¿ | ç¼–ç¨‹/æå®¢/ç§‘æŠ€ |
| `k` | **Latte æ‹¿é“** | æµ…è‰² | å¥¶æ²¹æš–ç™½ | ç”Ÿæ´»æ–¹å¼/å’–å•¡ |
| `l` | **Noir ç¢³é»‘** | ä¸“ä¸š | æç®€å…¨é»‘ | é«˜ç«¯/æç®€/å•†åŠ¡ |
| `m` | **Aqua æµ·æ´‹** | å†·è‰² | æ·±æµ·è“ç»¿æ¸å˜ | æµ·æ´‹/æ¸…æ–°/ç¯ä¿ |
| `n` | **Gold çƒ«é‡‘** | ä¸“ä¸š | æ·±é»‘+é‡‘è‰²è£…é¥° | å¥¢å/é‡‘è/é¢å¥– |
| `o` | **Coral çŠç‘šçº¢** | æš–è‰² | æ·±çº¢çŠç‘šæ¸å˜ | æ´»åŠ›/è¥é”€/ä¿ƒé”€ |
| `p` | **Midnight å­å¤œ** | å†·è‰² | é›è“å¾„å‘æ¸å˜ | å¤œæ™š/å®‰é™/æ²‰æµ¸ |
| `q` | **Matcha æŠ¹èŒ¶** | è‡ªç„¶ | æ·±ç»¿èŒ¶è‰² | æ—¥å¼/èŒ¶/å¥åº· |
| `r` | **Storm é£æš´** | å†·è‰² | è“ç°+é“¶è‰²çº¿æ¡ | ä¸¥è‚ƒ/å¤©æ°”/åŠ›é‡ |

### 8.1 å¹³å°å°ºå¯¸å¯¹åº”

| å¹³å° | CSS Class | å°ºå¯¸(px) | æ¯”ä¾‹ | å­—æ•°ä¸Šé™ |
|------|-----------|---------|------|---------|
| å°çº¢ä¹¦ | `.size-xhs` | 1080Ã—1440 | 3:4 | 120å­—/å¼  |
| X (Twitter) | `.size-x` | 1200Ã—675 | 16:9 | 90å­—/å¼  |
| å…¬ä¼—å·å°é¢ | `.size-wechat` | 900Ã—383 | 2.35:1 | 68å­—/å¼  |
| æœ‹å‹åœˆ/æ–¹å›¾ | `.size-square` | 1080Ã—1080 | 1:1 | 100å­—/å¼  |

---

## 9. å¹³å°ä»¿çœŸç³»ç»Ÿï¼ˆBeta 1.0 æ–°å¢ï¼‰

> æ–‡ä»¶ï¼š`copy-studio.html` + `copy-studio.js` + `common.css`

### 9.1 æ”¯æŒå¹³å°åŠä»¿çœŸç‰¹æ€§

| å¹³å° | CSS Class | ä»¿çœŸå…ƒç´  | å­—æ•°é™åˆ¶ |
|------|-----------|---------|---------|
| X/Twitter | `.pmw-x` | çº¯é»‘èƒŒæ™¯Â·åœ†å½¢å¤´åƒÂ·å­—æ•°åœ†ç¯Â·PostæŒ‰é’® | 280 |
| å°çº¢ä¹¦ | `.pmw-xhs` | ç™½è‰²Â·å›¾ç‰‡ä¹å®«æ ¼Â·æ ‡é¢˜è¾“å…¥Â·è¯é¢˜æ ‡ç­¾ | 1000 |
| å¾®ä¿¡å…¬ä¼—å· | `.pmw-wechat` | æµ…ç°èƒŒæ™¯Â·æ–‡ç« ç¼–è¾‘å™¨Â·æ ¼å¼å·¥å…·æ  | 2000 |
| çŸ¥ä¹ | `.pmw-zhihu` | è“è‰²é¡¶æ Â·å›ç­”/æ–‡ç« /æƒ³æ³•Tab | 5000 |
| Bç«™ | `.pmw-bilibili` | ç²‰è‰²LogoÂ·æŠ•ç¨¿ç±»å‹åˆ‡æ¢Â·å°é¢é¢„è§ˆ | 2000 |
| LinkedIn | `.pmw-linkedin` | ç™½è‰²Â·å¤´åƒÂ·å—ä¼—å¯è§æ€§Â·å·¥å…·æ  | 3000 |

### 9.2 æ ¸å¿ƒ JS å‡½æ•°

```javascript
// åˆ‡æ¢å¹³å°ä»¿çœŸçª—å£ï¼ˆä¿ç•™å·²è¾“å…¥æ–‡æ¡ˆï¼‰
updatePlatformMock("x" | "xiaohongshu" | "wechat" | "zhihu" | "bilibili" | "linkedin")

// æ›´æ–°å­—æ•°è®¡æ•°
// Xï¼šå€’è®¡æ—¶(å‰©ä½™å­—æ•°)ï¼Œå‰©ä½™<60å˜é»„ï¼Œ<20å˜çº¢
// å…¶ä»–ï¼šå·²è¾“å…¥/ä¸Šé™
updateCharCount(platform, charLimit)

// é…ç½®å¯¹è±¡ï¼ˆå¯ç›´æ¥ç§»æ¤åˆ°ç§»åŠ¨ç«¯ï¼‰
platformMockConfigs = {
  x: { windowClass, charLimit:280, ... },
  xiaohongshu: { windowClass, charLimit:1000, ... },
  ...
}
```

---

## 10. éƒ¨ç½²ä¸ç¯å¢ƒé…ç½®

### 10.1 çº¿ä¸Šç¯å¢ƒ

| æœåŠ¡ | URL | æ‰˜ç®¡å¹³å° | è´¦å· |
|------|-----|---------|------|
| ä¸»ç«™ | https://x.banana.school | Vercel | team_calleZxNrMqEshvTET0TK8rU |
| AI Worker | https://aix-ai-api.musd-app.workers.dev | CF Workers ä¸»è´¦å· | 07728da33c7e188b00a80f1462376afc |
| çƒ­ç‚¹ API | https://x.banana.school/api/hot-topics | Vercel Serverless | åŒä¸»ç«™ |

### 10.2 æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ°é¢„è§ˆæœåŠ¡å™¨
cd "/Users/mac/Documents/New project"
python3 -m http.server 4173
# è®¿é—®: http://localhost:4173

# æˆ–ä½¿ç”¨ launch.json é¢„è®¾
# .claude/launch.json å·²é…ç½®
```

### 10.3 éƒ¨ç½²å‘½ä»¤

```bash
# å‰ç«¯ï¼ˆè‡ªåŠ¨è§¦å‘ï¼šgit push origin mainï¼‰
vercel --prod --yes

# AI Worker
cd ai-worker
wrangler deploy

# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
vercel ls --team=team_calleZxNrMqEshvTET0TK8rU
```

### 10.4 Git ä»“åº“

```
ä»“åº“ï¼šhttps://github.com/upgiorgio/AiX
åˆ†æ”¯ï¼šmainï¼ˆç”Ÿäº§ï¼‰
æœ€æ–°æäº¤ï¼šd2734d7 â€” feat(card-suite): å¹³å°ä»¿çœŸå‘å¸–çª—å£ç³»ç»Ÿ v1.0
è‡ªåŠ¨éƒ¨ç½²ï¼špush main â†’ Vercel CI/CD â†’ x.banana.school
```

### 10.5 CSS ç‰ˆæœ¬å·è§„èŒƒ

æ‰€æœ‰ HTML æ–‡ä»¶é€šè¿‡ query string æ§åˆ¶ç¼“å­˜ï¼š
```
common.css?v=YYYYMMDD-N
common.js?v=YYYYMMDD-N
ai-gateway.js?v=YYYYMMDD-N
```
**æ¯æ¬¡ä¿®æ”¹å¯¹åº”æ–‡ä»¶åï¼Œå¿…é¡»åŒæ­¥æ›´æ–°å¼•ç”¨è¯¥æ–‡ä»¶çš„ HTML ç‰ˆæœ¬å·ã€‚**

---

## 11. ç§»åŠ¨ç«¯æ‰©å±•è·¯çº¿å›¾

> è¯¦è§ï¼š`docs/MOBILE_EXPANSION.md`

### 11.1 å¯ç›´æ¥å¤ç”¨çš„èµ„äº§

| èµ„äº§ç±»å‹ | å¯å¤ç”¨å†…å®¹ | ç§»æ¤æ–¹å¼ |
|---------|---------|---------|
| **AI åç«¯** | Worker API å®Œæ•´å¯ç”¨ï¼ˆCORSå·²å¼€æ”¾ï¼‰ | ç›´æ¥ç”¨ URLSession/Retrofit/wx.request è°ƒç”¨ |
| **å¹³å°é…ç½®** | `platformMockConfigs` å¯¹è±¡ï¼ˆ6å¹³å°å‚æ•°ï¼‰ | è¿ç§»ä¸º Swift struct / Kotlin data class / JSON |
| **å¡ç‰‡æ¨¡æ¿** | 18å¥—æ¨¡æ¿è‰²å½©/å­—ä½“å‚æ•° | è¿ç§»ä¸ºé¢œè‰²è¡¨+æ¸å˜é…ç½® |
| **æ•°æ® Schema** | localStorage key/value ç»“æ„ | è¿ç§»ä¸º SQLite è¡¨ç»“æ„ |
| **AI Prompt** | å…¨éƒ¨ prompt æ¨¡æ¿ï¼ˆscenarioGuidesç­‰ï¼‰ | ç›´æ¥å¤åˆ¶åˆ°ç§»åŠ¨ç«¯å¸¸é‡æ–‡ä»¶ |
| **å“ç‰Œè‰²** | 6å¥—å¹³å°å“ç‰Œè‰²å˜é‡ | è¿ç§»ä¸ºé¢œè‰²å¸¸é‡ |

### 11.2 ä¸‰ç«¯æ‰©å±•ä¼˜å…ˆçº§å»ºè®®

```
Phase 1 (NOW): iOS App
  â†’ SwiftUI é‡å†™UI Â· è°ƒç”¨ Worker API Â· Core Data å­˜è‰ç¨¿
  â†’ é‡ç‚¹åŠŸèƒ½ï¼šæ–‡æ¡ˆå·¥åœº + å¡ç‰‡è®¾è®¡å™¨(WKWebViewæ¸²æŸ“) + å‘å¸ƒä¸­å¿ƒ

Phase 2 (Q2): å¾®ä¿¡å°ç¨‹åº
  â†’ uni-app æ¡†æ¶ Â· å…±äº«é€»è¾‘ä»£ç  Â· wx.request è°ƒç”¨ Worker API
  â†’ é‡ç‚¹åŠŸèƒ½ï¼šæ–‡æ¡ˆå·¥åœº + å¿«é€Ÿå‘å¸ƒ

Phase 3 (Q3): Android APK
  â†’ Kotlin + Jetpack Compose Â· Retrofit è°ƒç”¨ API Â· Room DB
  â†’ ä¸ iOS åŠŸèƒ½å¯¹é½
```

---

## 12. å¿«é€Ÿå¼€å‘é€ŸæŸ¥è¡¨

### æ–°å¢ä¸€ä¸ªå·¥å…·é¡µé¢

```
1. å¤åˆ¶ copy-studio.html ä¸º new-tool.html
2. ä¿®æ”¹ <title> å’Œ topbar å†…å®¹
3. å¼•å…¥ç›¸åŒè„šæœ¬ï¼š
   <script src="/card-suite/common.js?v=..."></script>
   <script src="/card-suite/ai-gateway.js?v=..."></script>
   <script src="/card-suite/new-tool.js?v=..."></script>
4. åˆ›å»º new-tool.jsï¼Œä½¿ç”¨ window.AiGateway.stream() è°ƒç”¨ AI
5. åœ¨ index.html å¥—ä»¶é¦–é¡µæ·»åŠ å…¥å£å¡ç‰‡
```

### è°ƒç”¨ AI ç”Ÿæˆï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰

```javascript
async function myAIFeature() {
  const prompt = "ä½ çš„æç¤ºè¯";
  const textarea = document.getElementById("myOutput");
  const handler = window.AiGateway.streamIntoEl(textarea);

  await window.AiGateway.stream(prompt, {
    system: "ä½ æ˜¯ä¸“ä¸šçš„...",
    ...handler
  });
}
```

### æ·»åŠ æ–°å¹³å°æ”¯æŒ

```javascript
// 1. åœ¨ platformMockConfigs æ·»åŠ æ–°å¹³å°é…ç½®
// 2. åœ¨ common.css æ·»åŠ  .pmw-æ–°å¹³å° æ ·å¼
// 3. åœ¨ ptab-bar HTML æ·»åŠ æ–°æ ‡ç­¾æŒ‰é’®
// 4. æ›´æ–° platformTone å¯¹è±¡ï¼ˆæ–‡æ¡ˆé£æ ¼æŒ‡å—ï¼‰
```

### æ·»åŠ æ–°å¡ç‰‡æ¨¡æ¿

```css
/* 1. åœ¨ common.css æœ«å°¾æ·»åŠ  */
.template-s { /* æ–°æ¨¡æ¿ */ }

/* 2. åœ¨ card-designer.js çš„æ¨¡æ¿é…ç½®æ•°ç»„ä¸­è¿½åŠ  */
{ id: "template-s", name: "æ–°æ¨¡æ¿å", desc: "..." }
```

---

*æ–‡æ¡£ç”±å°Cï¼ˆClaude Agentï¼‰è‡ªåŠ¨ç”Ÿæˆ Â· å¦‚æœ‰ä»£ç å˜æ›´è¯·åŒæ­¥æ›´æ–°æœ¬æ–‡ä»¶*
