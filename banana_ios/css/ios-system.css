/* ============================================
   iOS Design System - 自媒体发布工具
   模仿 Apple iOS 18+ 原生设计语言
   香蕉学院出品 | banana.school
   ============================================ */

/* === iOS System Fonts === */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap');

:root {
  /* === iOS Color System (Light) === */
  --ios-blue: #007AFF;
  --ios-green: #34C759;
  --ios-indigo: #5856D6;
  --ios-orange: #FF9500;
  --ios-pink: #FF2D55;
  --ios-purple: #AF52DE;
  --ios-red: #FF3B30;
  --ios-teal: #5AC8FA;
  --ios-yellow: #FFCC00;
  --ios-mint: #00C7BE;
  --ios-cyan: #32ADE6;

  /* === iOS Gray Scale === */
  --ios-gray: #8E8E93;
  --ios-gray2: #AEAEB2;
  --ios-gray3: #C7C7CC;
  --ios-gray4: #D1D1D6;
  --ios-gray5: #E5E5EA;
  --ios-gray6: #F2F2F7;

  /* === iOS Semantic Colors (Light) === */
  --ios-bg-primary: #FFFFFF;
  --ios-bg-secondary: #F2F2F7;
  --ios-bg-tertiary: #FFFFFF;
  --ios-bg-grouped: #F2F2F7;
  --ios-bg-grouped-secondary: #FFFFFF;
  --ios-bg-elevated: #FFFFFF;

  --ios-label: #000000;
  --ios-label-secondary: #3C3C4399;
  --ios-label-tertiary: #3C3C434D;
  --ios-label-quaternary: #3C3C432E;

  --ios-separator: #3C3C4349;
  --ios-separator-opaque: #C6C6C8;

  --ios-fill: #78788033;
  --ios-fill-secondary: #78788029;
  --ios-fill-tertiary: #7676801F;
  --ios-fill-quaternary: #74748014;

  /* === iOS System Background === */
  --ios-system-bg: #FFFFFF;
  --ios-system-bg-secondary: #F2F2F7;
  --ios-grouped-bg: #F2F2F7;
  --ios-grouped-bg-secondary: #FFFFFF;

  /* === iOS Accent (App Brand) === */
  --app-accent: #FF9F0A;
  --app-accent-light: #FFD60A;
  --app-accent-gradient: linear-gradient(135deg, #FF9F0A 0%, #FFD60A 100%);
  --app-bg-warm: #FFF8E1;

  /* === iOS Blur & Glass === */
  --ios-glass-bg: rgba(255, 255, 255, 0.72);
  --ios-glass-blur: blur(20px);
  --ios-glass-border: rgba(255, 255, 255, 0.18);
  --ios-ultra-thin: rgba(255, 255, 255, 0.45);

  /* === iOS Shadows === */
  --ios-shadow-sm: 0 1px 3px rgba(0,0,0,0.06);
  --ios-shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --ios-shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
  --ios-shadow-xl: 0 16px 48px rgba(0,0,0,0.16);
  --ios-shadow-card: 0 2px 8px rgba(0,0,0,0.04), 0 0 1px rgba(0,0,0,0.06);

  /* === iOS Radius === */
  --ios-radius-xs: 6px;
  --ios-radius-sm: 8px;
  --ios-radius-md: 12px;
  --ios-radius-lg: 16px;
  --ios-radius-xl: 20px;
  --ios-radius-2xl: 24px;
  --ios-radius-full: 9999px;

  /* === iOS Typography Scale === */
  --ios-font: -apple-system, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Noto Sans SC', system-ui, sans-serif;
  --ios-font-rounded: -apple-system, 'SF Pro Rounded', 'Noto Sans SC', system-ui, sans-serif;
  --ios-font-mono: 'SF Mono', 'Menlo', 'Monaco', monospace;

  --ios-large-title: 700 34px/41px var(--ios-font);
  --ios-title1: 700 28px/34px var(--ios-font);
  --ios-title2: 700 22px/28px var(--ios-font);
  --ios-title3: 600 20px/25px var(--ios-font);
  --ios-headline: 600 17px/22px var(--ios-font);
  --ios-body: 400 17px/22px var(--ios-font);
  --ios-callout: 400 16px/21px var(--ios-font);
  --ios-subheadline: 400 15px/20px var(--ios-font);
  --ios-footnote: 400 13px/18px var(--ios-font);
  --ios-caption1: 400 12px/16px var(--ios-font);
  --ios-caption2: 400 11px/13px var(--ios-font);

  /* === iOS Spacing === */
  --ios-spacing-xs: 4px;
  --ios-spacing-sm: 8px;
  --ios-spacing-md: 16px;
  --ios-spacing-lg: 20px;
  --ios-spacing-xl: 24px;
  --ios-spacing-2xl: 32px;
  --ios-spacing-3xl: 40px;

  /* === iOS Layout === */
  --ios-nav-height: 44px;
  --ios-large-nav-height: 96px;
  --ios-tab-height: 83px;
  --ios-safe-top: env(safe-area-inset-top, 47px);
  --ios-safe-bottom: env(safe-area-inset-bottom, 34px);
  --ios-safe-left: env(safe-area-inset-left, 0px);
  --ios-safe-right: env(safe-area-inset-right, 0px);

  /* === iOS Animation === */
  --ios-duration-fast: 0.2s;
  --ios-duration-normal: 0.35s;
  --ios-duration-slow: 0.5s;
  --ios-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ios-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ios-ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);

  /* === iOS Tab Bar Colors === */
  --ios-tab-active: var(--ios-blue);
  --ios-tab-inactive: var(--ios-gray);
  --ios-tab-bg: rgba(249, 249, 249, 0.94);
}

/* === Dark Mode === */
[data-theme="dark"] {
  --ios-bg-primary: #000000;
  --ios-bg-secondary: #1C1C1E;
  --ios-bg-tertiary: #2C2C2E;
  --ios-bg-grouped: #000000;
  --ios-bg-grouped-secondary: #1C1C1E;
  --ios-bg-elevated: #1C1C1E;

  --ios-label: #FFFFFF;
  --ios-label-secondary: #EBEBF599;
  --ios-label-tertiary: #EBEBF54D;
  --ios-label-quaternary: #EBEBF52E;

  --ios-separator: #54545899;
  --ios-separator-opaque: #38383A;

  --ios-fill: #7878805C;
  --ios-fill-secondary: #78788052;
  --ios-fill-tertiary: #7676803D;
  --ios-fill-quaternary: #74748029;

  --ios-system-bg: #000000;
  --ios-system-bg-secondary: #1C1C1E;
  --ios-grouped-bg: #000000;
  --ios-grouped-bg-secondary: #1C1C1E;

  --ios-glass-bg: rgba(28, 28, 30, 0.72);
  --ios-glass-border: rgba(255, 255, 255, 0.08);
  --ios-ultra-thin: rgba(28, 28, 30, 0.45);

  --ios-shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
  --ios-shadow-md: 0 4px 12px rgba(0,0,0,0.4);
  --ios-shadow-lg: 0 8px 24px rgba(0,0,0,0.5);

  --ios-tab-bg: rgba(30, 30, 30, 0.94);
  --ios-tab-active: #0A84FF;

  --app-accent: #FF9F0A;
  --app-accent-light: #FFD60A;
  --app-bg-warm: #1C1A00;

  --ios-gray5: #2C2C2E;
  --ios-gray6: #1C1C1E;
}

/* === iOS Dark Mode System Colors === */
[data-theme="dark"] {
  --ios-blue: #0A84FF;
  --ios-green: #30D158;
  --ios-indigo: #5E5CE6;
  --ios-orange: #FF9F0A;
  --ios-pink: #FF375F;
  --ios-purple: #BF5AF2;
  --ios-red: #FF453A;
  --ios-teal: #64D2FF;
  --ios-yellow: #FFD60A;
  --ios-mint: #63E6E2;
  --ios-cyan: #40CBE0;
}

/* === Global Reset === */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

html {
  font-family: var(--ios-font);
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth;
  overscroll-behavior: none;
  height: 100%;
}

body {
  background: var(--ios-bg-secondary);
  color: var(--ios-label);
  min-height: 100%;
  overflow-x: hidden;
  position: relative;
  line-height: 1.47;
}

/* iOS-style text selection */
::selection {
  background: rgba(0, 122, 255, 0.2);
}

/* Prevent pull-to-refresh on iOS */
body {
  overscroll-behavior-y: none;
}

/* === iOS Safe Area === */
.ios-safe-area {
  padding-top: var(--ios-safe-top);
  padding-bottom: var(--ios-safe-bottom);
  padding-left: var(--ios-safe-left);
  padding-right: var(--ios-safe-right);
}

/* === iOS App Container === */
.ios-app {
  max-width: 428px;
  margin: 0 auto;
  min-height: 100vh;
  min-height: 100dvh;
  background: var(--ios-bg-secondary);
  position: relative;
  overflow: hidden;
}

@media (min-width: 429px) {
  .ios-app {
    border-left: 1px solid var(--ios-separator-opaque);
    border-right: 1px solid var(--ios-separator-opaque);
  }
}

/* === Scrollbar Hide === */
.ios-app::-webkit-scrollbar,
.ios-scroll::-webkit-scrollbar {
  display: none;
}

.ios-app, .ios-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* === Haptic Feedback Simulation === */
@keyframes ios-tap {
  0% { transform: scale(1); }
  50% { transform: scale(0.97); }
  100% { transform: scale(1); }
}

.ios-tappable:active {
  animation: ios-tap 0.15s var(--ios-easing);
}

/* === iOS Page Transition === */
@keyframes ios-slide-in {
  from { transform: translateX(100%); opacity: 0.6; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes ios-slide-out {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(-30%); opacity: 0.6; }
}

@keyframes ios-fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes ios-scale-in {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes ios-sheet-up {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

.ios-page-enter {
  animation: ios-slide-in var(--ios-duration-normal) var(--ios-easing) forwards;
}

.ios-page-exit {
  animation: ios-slide-out var(--ios-duration-normal) var(--ios-easing) forwards;
}

/* === iOS Loading Spinner === */
@keyframes ios-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.ios-spinner {
  width: 20px;
  height: 20px;
  border: 2px solid var(--ios-gray5);
  border-top-color: var(--ios-blue);
  border-radius: 50%;
  animation: ios-spin 0.8s linear infinite;
}

.ios-spinner-large {
  width: 32px;
  height: 32px;
  border-width: 3px;
}
